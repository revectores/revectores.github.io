<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title> SQL View
 </title>
  <link rel="stylesheet" type="text/css" href="http://revectores.com/static/css/newsprint.css"> 
  <link rel="stylesheet" type="text/css" href="http://revectores.com/static/css/blog.css"> 
  <link rel="stylesheet" type="text/css" href="http://revectores.com/static/css/code.css"> 
</head>
<body>

<p><a href="../"><< sql</a></p>

<h1 id="sql-view">SQL View</h1>
<p><strong>View</strong>, as the abstraction level upon logical table, provides mechanism to create virtual relation, which can be used to:</p>
<ul>
<li>See the database with different perspective without adding redundant data.</li>
<li>Permission control. We can provide public view that contains only the non-sensitive fields but hide the true table.</li>
</ul>
<p>The view is created and stored as query:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="kw">create</span> <span class="kw">view</span> <span class="op">&lt;</span><span class="kw">view</span><span class="op">-</span>name<span class="op">&gt;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a>[<span class="op">&lt;</span>field<span class="op">-</span>name1<span class="op">&gt;</span>, <span class="op">&lt;</span>field<span class="op">-</span>name2<span class="op">&gt;</span>, <span class="op">..</span>.]</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a><span class="kw">as</span> <span class="op">&lt;</span>query_expression<span class="op">&gt;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a>[<span class="kw">with</span> <span class="kw">check</span> <span class="kw">option</span>];</span></code></pre></div>
<p>When the <code>with check option</code> is given, SQL checks whether the inserted record satisifies the where clause in the perspective definition.</p>
<p>Since complex query might hidden under the view definition, the attempt to update data inside a view is usually simply rejected. The SQL persepctive is <strong>updatable</strong> if and only if the following four conditions satified:</p>
<ul>
<li>The from clause has only one database relation.</li>
<li>The select clause contains only attribute names of the relation and does not have any expression, aggregates, or distinct specification.</li>
<li>Any attribute not listed in the select clause can be set to <code>null</code>. That is, it does not have a not null constraint and is not part of a primary key.</li>
<li>The query does not have a group by or having clause.</li>
</ul>


</body>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</html>