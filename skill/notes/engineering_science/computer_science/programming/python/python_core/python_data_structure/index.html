<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title> Python Data Structure
 </title>
  
  <link rel="stylesheet" type="text/css" href="http://revectores.com/static/css/newsprint.css"> 
  <link rel="stylesheet" type="text/css" href="http://revectores.com/static/css/blog.css"> 
  <link rel="stylesheet" type="text/css" href="http://revectores.com/static/css/code.css"> 
  
</head>
<body>

<p><a href="../"><< python_core</a></p>

<h1 id="python-data-structure">Python Data Structure</h1>
<h3 id="iterator-functions">2. Iterator functions</h3>
<h5 id="iterator-map-filter-reduce"># Iterator: <code>map</code>, <code>filter</code>, <code>reduce</code></h5>
<p>The functional-style map and filter keyword have more elegant and pythonic implementation in python as <strong>list compenhension</strong>, so its no necessary to use them actually. While reduce function is pretty useful indeed.</p>
<p>map prototype:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a>items <span class="op">=</span> <span class="bu">range</span>(<span class="dv">6</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a><span class="co"># map version</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a><span class="bu">map</span>(<span class="kw">lambda</span> x:x<span class="op">**</span><span class="dv">2</span>, items)   <span class="co"># [0,1,4,9,16,25]</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a><span class="co"># listcomp version</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true"></a>[x<span class="op">**</span><span class="dv">2</span> <span class="cf">for</span> x <span class="kw">in</span> items]</span></code></pre></div>
<p>filter prototype:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a>items <span class="op">=</span> <span class="bu">range</span>(<span class="op">-</span><span class="dv">5</span>,<span class="dv">6</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a><span class="co"># filter version</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a><span class="bu">filter</span>(<span class="kw">lambda</span> x:x<span class="op">&lt;</span><span class="dv">0</span>, items)     <span class="co"># [-5,-4,-3,-2,-1]</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a><span class="co"># listcamp version</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true"></a>[x <span class="cf">for</span> x <span class="kw">in</span> items <span class="cf">if</span> x<span class="op">&lt;</span><span class="dv">0</span>]</span></code></pre></div>
<p>reduce prototype:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a>items <span class="op">=</span> <span class="bu">range</span>(<span class="dv">1</span>,<span class="dv">6</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true"></a><span class="bu">reduce</span>(<span class="kw">lambda</span> x,y:x<span class="op">*</span>y, items)   <span class="co"># 120</span></span></code></pre></div>
<p>The funny part is that lambda and iterator can use any tpyes of data, even a function:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a>mysum <span class="op">=</span> <span class="kw">lambda</span> x: x<span class="op">+</span>x</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true"></a>myproduct <span class="op">=</span> <span class="kw">lambda</span> x: x<span class="op">*</span>x</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true"></a>myfuns <span class="op">=</span> [mysum,myproduct]</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">5</span>):</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true"></a>    A <span class="op">=</span> <span class="bu">map</span>(<span class="kw">lambda</span> x: x(i), myfuns)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true"></a>    <span class="bu">print</span> A</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true"></a><span class="co">&#39;&#39;&#39;</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true"></a><span class="co">[0, 0]</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true"></a><span class="co">[2, 1]</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true"></a><span class="co">[4, 4]</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true"></a><span class="co">[6, 9]</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true"></a><span class="co">[8, 16]</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true"></a><span class="co">&#39;&#39;&#39;</span></span></code></pre></div>


</body>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</html>