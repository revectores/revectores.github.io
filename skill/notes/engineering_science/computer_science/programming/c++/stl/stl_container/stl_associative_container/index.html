<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title> C++ Associative Container
 </title>
  <link rel="stylesheet" type="text/css" href="http://revectores.com/static/css/newsprint.css"> 
  <link rel="stylesheet" type="text/css" href="http://revectores.com/static/css/blog.css"> 
  <link rel="stylesheet" type="text/css" href="http://revectores.com/static/css/code.css"> 
</head>
<body>

<p><a href="../"><< stl_container</a></p>

<h1 id="c-associative-container">C++ Associative Container</h1>
<h3 id="c-associative-container-introduction">1. C++ Associative Container Introduction</h3>
<h5 id="classification"># Classification</h5>
<p>There are 8 associative containers:</p>
<ul>
<li><code>map</code></li>
<li><code>set</code></li>
<li><code>multimap</code></li>
<li><code>multiset</code></li>
<li><code>unordered_map</code></li>
<li><code>unordered_set</code></li>
<li><code>unordered_multimap</code></li>
<li><code>unordered_multiset</code></li>
</ul>
<p><code>map</code> is set of key-value pairs (counterpart: Python <code>dict</code> or Java <code>HashMap</code>) and <code>set</code> are set of keys.</p>
<p>Prefix <code>multi</code> indicates that keys are allowed to be repeated, prefix <code>unordered</code> indicates that the container are not sorted.</p>
<p>For ordered containers <code>map</code>, <code>multimap</code>, <code>set</code>, and <code>multiset</code>, <code>operator&lt;</code> must be defined for type of key. By default, <code>operator&lt;</code> are used to construct a partial order. If <code>!(key1 &lt; key2) &amp;&amp; !(key2 &lt; key1)</code>, they are recognized as equivalence. That is, only one of them can be used as the key in one associative container.</p>
<p>The type of comparison operation (function pointer) is a part of type of that associative container:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="dt">bool</span> compare(<span class="at">const</span> <span class="dt">int</span> &amp;n1, <span class="at">const</span> <span class="dt">int</span> &amp;n2) {</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a>    <span class="cf">return</span> n1 &lt; n2;</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a>}</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true"></a>multiset&lt;<span class="dt">int</span>, <span class="kw">decltype</span>(compare)&gt;() nums;</span></code></pre></div>
<p>There are there types for associative container: <code>key_type</code>, <code>value_type</code>, and <code>mapped_type</code>. For <code>map</code>, the <code>key_type</code> and <code>mapped_type</code> are type of key/value respectively, and <code>value_type</code> is <code>pair&lt;key_type, mapped_type&gt;</code>.</p>
<h5 id="implementation"># Implementation</h5>
<p>The traditional implementation of ordered ssociative containers (<code>map</code>, <code>set</code>, <code>multimap</code>, <code>multiset</code>) are <a href="">red-black tree</a> while their unordered version are <a href="">hash table</a>. Ideally, the average searching time complexity for red-black tree and hash table are <code>O(\lg n)</code> and <code>O(1)</code> respectively, (note that the worst time complexity for hash table can be <code>O(n)</code> when the hash table is degenerated to a linked-list while rb-tree ensure the worst case is <code>O(\lg n)</code>), while the hash table takes more memory than rb-tree.</p>
<h3 id="pair">2. <code>pair</code></h3>
<p>Operations on <code>pair</code>:</p>
<ol type="1">
<li><p>Initialization. <code>pair&lt;T1, T2&gt; p</code>: initialize pair <code>p</code>, value initializtion are applied for two members. <code>pair&lt;T1, T2&gt; p(v1, v2)</code> or <code>pair&lt;T1, T2&gt; p = {v1, v2}</code>: initialize pair by given values. <code>make_pair(v1, v2)</code>: the type of pair are inferred from values.</p></li>
<li><p>Member access. <code>p.first</code> and <code>p.second</code>: return first or second members of <code>p</code>.</p></li>
<li><p>Order operators. <code>p1 [op] p2</code>: defined as lexicographical order.</p></li>
</ol>


</body>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</html>