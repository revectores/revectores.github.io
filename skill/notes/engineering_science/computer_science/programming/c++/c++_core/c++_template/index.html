<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title> C++ Template
 </title>
  
  <link rel="stylesheet" type="text/css" href="http://revectores.com//static/css/newsprint.css"> 
  <link rel="stylesheet" type="text/css" href="http://revectores.com//static/css/blog.css"> 
  <link rel="stylesheet" type="text/css" href="http://revectores.com//static/css/code.css"> 
  
</head>
<body>

<p><a href="../"><< c++_core</a></p>

<h1 id="c-template">C++ Template</h1>
<p>Template is a feature added in C++11.</p>
<h5 id="function-template"># Function Template</h5>
<p>The demo shows how the function template works</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="kw">template</span> &lt;<span class="kw">typename</span> T&gt;</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a><span class="dt">int</span> compare(<span class="at">const</span> T &amp;v1, <span class="at">const</span> T &amp;v2)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a>{</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a>    <span class="cf">if</span>(v1 &lt; v2) <span class="cf">return</span> -<span class="dv">1</span>;</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true"></a>    <span class="cf">if</span>(v2 &lt; v1) <span class="cf">return</span> <span class="dv">1</span>;</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true"></a>}</span></code></pre></div>
<p>As a template, the function <code>max</code> are now able to accept any two parameters with the same comparable type.</p>
<h5 id="class-template"># Class Template</h5>
<p>The demo shows how the class template works.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a><span class="pp">#include </span><span class="im">&lt;vector&gt;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a><span class="pp">#include </span><span class="im">&lt;cstdlib&gt;</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a><span class="pp">#include </span><span class="im">&lt;string&gt;</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true"></a><span class="pp">#include </span><span class="im">&lt;stdexcept&gt;</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true"></a><span class="kw">template</span> &lt;<span class="kw">class</span> T&gt;</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true"></a><span class="kw">class</span> Stack {</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true"></a><span class="kw">private</span>:</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true"></a>    <span class="bu">std::</span>vector&lt;T&gt; elems;</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true"></a><span class="kw">public</span>:</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true"></a>    <span class="dt">void</span> push(T <span class="at">const</span>&amp;);</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true"></a>    <span class="dt">void</span> pop();</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true"></a>    T top() <span class="at">const</span>;</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true"></a>    <span class="dt">bool</span> empty() <span class="at">const</span> {</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true"></a>        <span class="cf">return</span> elems.empty();</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true"></a>    };</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true"></a>};</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true"></a></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true"></a><span class="kw">template</span> &lt;<span class="kw">class</span> T&gt;</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true"></a><span class="dt">void</span> Stack&lt;T&gt;::push (T <span class="at">const</span>&amp; elem){</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true"></a>    elems.push_back(elem);</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true"></a>}</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true"></a></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true"></a><span class="kw">template</span> &lt;<span class="kw">class</span> T&gt;</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true"></a><span class="dt">void</span> Stack&lt;T&gt;::pop(){</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true"></a>    <span class="cf">if</span> (elems.empty()){</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true"></a>        <span class="cf">throw</span> <span class="bu">std::</span>out_of_range(<span class="st">&quot;Stack&lt;&gt;::pop empty stack&quot;</span>);</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true"></a>    }</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true"></a>    elems.pop_back();</span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true"></a>}</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true"></a></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true"></a><span class="kw">template</span> &lt;<span class="kw">class</span> T&gt;</span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true"></a>T Stack&lt;T&gt;::top() <span class="at">const</span> {</span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true"></a>    <span class="cf">if</span> (elems.empty()) {</span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true"></a>        <span class="cf">throw</span> <span class="bu">std::</span>out_of_range(<span class="st">&quot;Stack&lt;&gt;::top(): empty stack&quot;</span>);</span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true"></a>    }</span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true"></a>    <span class="cf">return</span> elems.back();</span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true"></a>}</span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true"></a></span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true"></a><span class="dt">int</span> main(){</span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true"></a>    <span class="cf">try</span> {</span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true"></a>        Stack&lt;<span class="dt">int</span>&gt; intStack;</span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true"></a>        Stack&lt;<span class="bu">std::</span>string&gt; stringStack;</span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true"></a></span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true"></a>        intStack.push(<span class="dv">7</span>);</span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true"></a>        <span class="bu">std::</span>cout &lt;&lt; intStack.top() &lt;&lt; <span class="bu">std::</span>endl;</span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true"></a></span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true"></a>        stringStack.push(<span class="st">&quot;hello&quot;</span>);</span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true"></a>        <span class="bu">std::</span>cout &lt;&lt; stringStack.top() &lt;&lt; <span class="bu">std::</span>endl;</span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true"></a>        stringStack.pop();</span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true"></a>        stringStack.pop();</span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true"></a>    } <span class="cf">catch</span> (<span class="bu">std::</span>exception <span class="at">const</span>&amp; ex) {</span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true"></a>        <span class="bu">std::</span>cerr &lt;&lt; <span class="st">&quot;Exception: &quot;</span> &lt;&lt; ex.what() &lt;&lt; <span class="bu">std::</span>endl;</span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true"></a>        <span class="cf">return</span> -<span class="dv">1</span>;</span>
<span id="cb2-56"><a href="#cb2-56" aria-hidden="true"></a>    }</span>
<span id="cb2-57"><a href="#cb2-57" aria-hidden="true"></a>}</span></code></pre></div>


</body>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</html>