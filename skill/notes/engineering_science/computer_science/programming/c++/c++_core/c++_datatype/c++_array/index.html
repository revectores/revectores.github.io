<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title> Array
 </title>
  <link rel="stylesheet" type="text/css" href="http://revectores.com/static/css/newsprint.css"> 
  <link rel="stylesheet" type="text/css" href="http://revectores.com/static/css/blog.css"> 
  <link rel="stylesheet" type="text/css" href="http://revectores.com/static/css/code.css"> 
</head>
<body>

<p><a href="../"><< c++_datatype</a></p>

<h1 id="array">Array</h1>
<h3 id="basic-concepts">1. Basic concepts</h3>
<h5 id="declaration-initialization"># Declaration &amp; Initialization</h5>
<p>Array is a series of <strong>same</strong> type of data which stores in the continuous space in the memory, as a result, the interpreter is able to achieve any location in the array. This feature is named as <strong>Random Reading</strong>. We can declare an array by specific length given:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="dt">int</span> A[<span class="dv">5</span>];</span></code></pre></div>
<p>Using the subscript operator <code>[]</code> to get/assign the specific location of element, notices that the array subscript starts at 0, which included by C:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a><span class="dt">int</span> A[<span class="dv">5</span>] = {<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>};</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a>cout &lt;&lt; A[<span class="dv">0</span>];       <span class="co">// 1</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a>cout &lt;&lt; A[<span class="dv">4</span>];       <span class="co">// 5</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a><span class="cf">for</span>(<span class="dt">int</span> i=<span class="dv">0</span>; i&lt;<span class="dv">5</span>; i++) cout &lt;&lt; A[i];    <span class="co">// 12345</span></span></code></pre></div>
<p>It’s not allowed to assigned the array seperating from declearation, i.e. this kind of expression cause an error:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a><span class="dt">int</span> A[<span class="dv">5</span>];</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true"></a>A = {<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>};        <span class="co">// error: array type &#39;int [5]&#39; is not assignable</span></span></code></pre></div>
<p>If the elements provided less than the length of array, other elements will be initialize as the ‘empty’ value of the type (0 for intArray, false for boolArray and so on):</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a><span class="dt">int</span> A[<span class="dv">5</span>] = {<span class="dv">1</span>, <span class="dv">2</span>};</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true"></a>cout &lt;&lt; A[<span class="dv">3</span>];       <span class="co">// 0 </span></span></code></pre></div>
<p>If you want to initialze all the elements to specific non-empty values, the for-loop is necessary.</p>
<p>As the same of variable, never use the elements of array without initializing it. Some fool-proof designed interpreter will automatically initialize them to the empty value but it’s not the standard. It’s possible to access the trash data which remains in the memory. Besides, the <code>[]</code> operator doesn’t provide strictly bound-check, the programmer should be careful to aviod crossing the maximum subscript of the array.</p>
<h5 id="size-and-length"># Size and Length</h5>
<p>There’s no bulit-in function for C and even C++ to get the length of an array, we accomplish that by getting the size of array, and with the same data type principle applied:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a><span class="dt">int</span> A[<span class="dv">5</span>];</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true"></a>cout &lt;&lt; <span class="kw">sizeof</span>(A);  <span class="co">// 20 = sizeof(int)*5</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true"></a>cout &lt;&lt; <span class="kw">sizeof</span>(A)/<span class="kw">sizeof</span>(A[<span class="dv">0</span>]); <span class="co">// 5</span></span></code></pre></div>
<p>Here <code>sizeof(A)</code> uses the name of array to represent the array, and get the size of the whole array.</p>
<h3 id="multi-dimensional-array">2. Multi-Dimensional Array</h3>
<h5 id="assignment-auto-pair-machanism"># Assignment, Auto-pair machanism</h5>
<p>Two dimensional array is an array of array. We can assigned it as it in multiple way:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true"></a><span class="dt">int</span> A[<span class="dv">2</span>][<span class="dv">2</span>] = {{<span class="dv">1</span>,<span class="dv">2</span>},{<span class="dv">3</span>,<span class="dv">4</span>}};    <span class="co">// Most official way.</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true"></a><span class="dt">int</span> A[<span class="dv">2</span>][<span class="dv">2</span>] = {<span class="dv">1</span>,<span class="dv">2</span>, <span class="dv">3</span>,<span class="dv">4</span>};       <span class="co">// The inner braces can omitted.</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true"></a><span class="dt">int</span> A[][<span class="dv">2</span>] = {<span class="dv">1</span>,<span class="dv">2</span>, <span class="dv">3</span>,<span class="dv">4</span>};        <span class="co">// Auto recognize the size of first dimensional.</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true"></a><span class="dt">int</span> A[<span class="dv">2</span>][<span class="dv">2</span>] = {<span class="dv">1</span>,<span class="dv">2</span>};            <span class="co">// Unassigned elements will be set to 0.</span></span></code></pre></div>
<p>In the memory, it still stores in the continous space:</p>
<p><code>A[0][0], A[0][1], A[0][2], A[1][0], A[1][1], A[1][2], ...</code></p>
<h3 id="what-array-is-a-pointers-perspective">3. What Array Is: A Pointer’s Perspective</h3>
<p>As mentioned above, the essence of array is no more than <strong>continous addressing</strong>, which means that the <strong>pointer</strong> of each element is continous.</p>
<table>
<thead>
<tr class="header">
<th>Address(Pointer)</th>
<th><code>&amp;A[0] = A</code></th>
<th><code>&amp;A[0] + 1 = A + 1</code></th>
<th>…</th>
<th><code>&amp;A[0] + k = A + k</code></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Value</td>
<td><code>A[0]</code></td>
<td><code>A[1]</code></td>
<td>…</td>
<td><code>A[k]</code></td>
</tr>
</tbody>
</table>
<p>Acutally, what the name of array <code>A</code> represents is just the address of the first element in array <code>&amp;A[0]</code>, which gives the following statement: <code>&amp;A[k] = &amp;A[0] + k = A + k</code>, or <code>A[k] = *(A+k)</code>.</p>


</body>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</html>